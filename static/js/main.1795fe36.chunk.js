(this["webpackJsonpreactjs-quiz"]=this["webpackJsonpreactjs-quiz"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(18),r=n.n(s),i=n(21),o=n.p+"static/media/logo.6ce24c58.svg",l=n(0);function j(e){var t=e.children;return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsxs)("header",{className:"app-header",children:[Object(l.jsx)("img",{src:o,className:"app-logo",alt:"logo"}),Object(l.jsx)("h3",{children:"ReactJS - Quiz"})]}),t]})}var u=n(6),d=n(8),b=n(9),h=n.n(b),m=n(19),O=n(3),x=n(20),p=n.n(x),f={animals:27,general:9,history:23,politics:24,sports:21},g=a.a.createContext(),v=function(e){var t=e.children,n=Object(c.useState)(!0),a=Object(O.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(!0),o=Object(O.a)(i,2),j=o[0],b=o[1],x=Object(c.useState)(!1),v=Object(O.a)(x,2),y=v[0],N=v[1],q=Object(c.useState)([]),w=Object(O.a)(q,2),S=w[0],C=w[1],k=Object(c.useState)(0),z=Object(O.a)(k,2),M=z[0],_=z[1],F=Object(c.useState)(0),I=Object(O.a)(F,2),J=I[0],L=I[1],Q=Object(c.useState)(!1),T=Object(O.a)(Q,2),A=T[0],H=T[1],B=Object(c.useState)({amount:10,category:"general",difficulty:"easy"}),D=Object(O.a)(B,2),E=D[0],P=D[1],R=function(){var e=Object(m.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),r(!1),e.next=4,p()(t).catch((function(e){return console.log(e)}));case 4:n=e.sent,console.log(n),n?(c=n.data.results).length>0?(C(c),b(!1),r(!1),N(!1)):(r(!0),N(!0)):r(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){_((function(e){var t=e+1;return t>S.length-1?(G(),0):t}))},G=function(){H(!0)};return Object(l.jsx)(g.Provider,{value:{waiting:s,loading:j,error:y,questions:S,index:M,correct:J,isModalOpen:A,nextQuestion:Y,checkAnswer:function(e){e&&L((function(e){return e+1})),Y()},closeModal:function(){r(!0),L(0),H(!1)},quiz:E,handleChange:function(e){var t=e.target.name,n=e.target.value;P(Object(d.a)(Object(d.a)({},E),{},Object(u.a)({},t,n)))},handleSubmit:function(e){e.preventDefault();var t=E.amount,n=E.category,c=E.difficulty,a="".concat("https://opentdb.com/api.php?","amount=").concat(t,"&difficulty=").concat(c,"&category=").concat(f[n],"&type=multiple");R(a)}},children:t})},y=function(){return Object(c.useContext)(g)};function N(){var e=y(),t=e.quiz,n=e.handleChange,c=e.handleSubmit,a=e.error;return Object(l.jsx)("main",{id:"main-container",className:"container",children:Object(l.jsx)("section",{className:"quiz quiz-small",children:Object(l.jsxs)("form",{className:"setup-form",children:[Object(l.jsx)("h3",{children:"setup quiz"}),Object(l.jsxs)("div",{className:"form-control",children:[Object(l.jsx)("label",{htmlFor:"amount",children:"number of questions"}),Object(l.jsx)("input",{type:"number",name:"amount",id:"amount",value:t.amount,onChange:n,className:"form-input",min:1,max:10})]}),Object(l.jsxs)("div",{className:"form-control",children:[Object(l.jsx)("label",{htmlFor:"category",children:"category"}),Object(l.jsxs)("select",{name:"category",id:"category",className:"form-input",value:t.category,onChange:n,children:[Object(l.jsx)("option",{value:"animals",children:"animals"}),Object(l.jsx)("option",{value:"general",children:"general"}),Object(l.jsx)("option",{value:"history",children:"history"}),Object(l.jsx)("option",{value:"politics",children:"politics"}),Object(l.jsx)("option",{value:"sports",children:"sports"})]})]}),Object(l.jsxs)("div",{className:"form-control",children:[Object(l.jsx)("label",{htmlFor:"difficulty",children:"select difficulty"}),Object(l.jsxs)("select",{name:"difficulty",id:"difficulty",className:"form-input",value:t.difficulty,onChange:n,children:[Object(l.jsx)("option",{value:"easy",children:"easy"}),Object(l.jsx)("option",{value:"medium",children:"medium"}),Object(l.jsx)("option",{value:"hard",children:"hard"})]})]}),a&&Object(l.jsx)("p",{className:"error",children:"Try different option(s)! \xa0Cannot generate questions!"}),Object(l.jsx)("button",{type:"submit",onClick:c,className:"submit-btn",children:"start"})]})})})}function q(){var e=y(),t=e.isModalOpen,n=e.closeModal,c=e.correct,a=e.questions,s=(c/a.length*100).toFixed(0);return Object(l.jsx)("div",{className:"".concat(t?"modal-container isOpen":"modal-container"),children:Object(l.jsxs)("div",{className:"modal-content",children:[Object(l.jsx)("h3",{children:s>=70?"congrats":"try harder next time"}),Object(l.jsxs)("p",{children:["You answered ",(c/a.length*100).toFixed(0),"% of questions correctly"]}),Object(l.jsx)("button",{className:"close-btn",onClick:n,children:"play again"})]})})}function w(){return Object(l.jsxs)("div",{id:"loading-container",className:"container loading",children:[Object(l.jsx)("div",{className:"lds-dual-ring"}),Object(l.jsx)("h4",{children:"L o a d i n g . . ."})]})}var S=function(){var e=y(),t=e.waiting,n=e.loading,c=e.questions,a=e.index,s=e.correct,r=e.nextQuestion,o=e.checkAnswer;if(t)return Object(l.jsx)(j,{children:Object(l.jsx)(N,{})});if(n)return Object(l.jsx)(j,{children:Object(l.jsx)(w,{})});var u=c[a],d=u.question,b=u.incorrect_answers,h=u.correct_answer,m=Object(i.a)(b),O=Math.floor(4*Math.random());return 3===O?m.push(h):(m.push(m[O]),m[O]=h),Object(l.jsx)(j,{children:Object(l.jsxs)("main",{id:"main-container",className:"container",children:[Object(l.jsx)(q,{}),Object(l.jsxs)("section",{className:"quiz",children:[Object(l.jsxs)("p",{className:"correct-answers",children:["correct answers: ",s,"/",a]}),Object(l.jsxs)("article",{className:"wrapper",children:[Object(l.jsx)("h3",{dangerouslySetInnerHTML:{__html:d}}),Object(l.jsx)("div",{className:"btn-container",children:m.map((function(e,t){return Object(l.jsx)("button",{className:"answer-btn",onClick:function(){return o(h===e)},dangerouslySetInnerHTML:{__html:e}},t)}))})]}),Object(l.jsx)("button",{className:"next-question",onClick:r,children:"next question"})]})]})})};n(45);r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(v,{children:Object(l.jsx)(S,{})})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.1795fe36.chunk.js.map